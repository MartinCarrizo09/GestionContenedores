<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/IMPLEMENTACION-COMPLETA.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/IMPLEMENTACION-COMPLETA.md" />
              <option name="updatedContent" value="# ✅ IMPLEMENTACIÓN COMPLETA DE MICROSERVICIOS&#10;&#10;##  RESUMEN FINAL&#10;&#10;He completado la implementación de **servicio-flota** y **servicio-logistica** siguiendo exactamente la estructura de **servicio-gestion** y cumpliendo con el DER proporcionado.&#10;&#10;---&#10;&#10;##  ESTRUCTURA IMPLEMENTADA&#10;&#10;### **SERVICIO-GESTION** (Puerto 8080)&#10;**Responsabilidad:** Gestión de clientes, contenedores, depósitos y tarifas&#10;&#10;#### Entidades (según DER):&#10;- ✅ **Cliente**: id, nombre, apellido, email, telefono&#10;- ✅ **Contenedor**: id, codigo_identificacion, peso, volumen, id_cliente&#10;- ✅ **Deposito**: id, nombre, direccion, latitud, longitud, coesto_estadia_xdia&#10;- ✅ **Tarifa**: id, descripcion, rango_peso_min/max, rango_volumen_min/max, valor&#10;&#10;#### Capas implementadas:&#10;- ✅ Modelo (4 entidades + 1 enum)&#10;- ✅ Repositorio (4 interfaces JpaRepository)&#10;- ✅ Servicio (4 clases con lógica de negocio)&#10;- ✅ Controlador (4 clases REST)&#10;&#10;#### Endpoints principales:&#10;- `GET/POST/PUT/DELETE /api/clientes`&#10;- `GET/POST/PUT/DELETE /api/contenedores`&#10;- `GET/POST/PUT/DELETE /api/depositos`&#10;- `GET/POST/PUT/DELETE /api/tarifas`&#10;&#10;---&#10;&#10;### **SERVICIO-FLOTA** (Puerto 8081)&#10;**Responsabilidad:** Gestión de camiones y transportistas&#10;&#10;#### Entidades (según DER):&#10;- ✅ **Camion**: id, patente, nombre_transportista, telefono_transportista, capacidad_peso, capacidad_volumen, consumo_combustible_km, costo_km, disponible&#10;&#10;#### Capas implementadas:&#10;- ✅ Modelo (Camion)&#10;- ✅ Repositorio (CamionRepositorio con métodos personalizados)&#10;- ✅ Servicio (CamionServicio con validaciones)&#10;- ✅ Controlador (CamionControlador con endpoints REST)&#10;&#10;#### Endpoints principales:&#10;- `GET /api/camiones` - Listar todos&#10;- `GET /api/camiones/disponibles` - Listar disponibles&#10;- `GET /api/camiones/{id}` - Buscar por ID&#10;- `GET /api/camiones/patente/{patente}` - Buscar por patente&#10;- `POST /api/camiones` - Crear (valida patente única)&#10;- `PUT /api/camiones/{id}` - Actualizar&#10;- `PATCH /api/camiones/{id}/disponibilidad` - Cambiar disponibilidad&#10;- `DELETE /api/camiones/{id}` - Eliminar&#10;&#10;#### Validaciones especiales:&#10;- No permite camiones con patente duplicada&#10;- Valida capacidades positivas o cero&#10;- Valida consumo y costo positivos&#10;&#10;---&#10;&#10;### **SERVICIO-LOGISTICA** (Puerto 8082)&#10;**Responsabilidad:** Gestión de solicitudes, rutas, tramos y configuraciones&#10;&#10;#### Entidades (según DER):&#10;- ✅ **Solicitud**: id, numero_seguimiento, id_contenedor, id_cliente, origen_direccion, origen_latitud, origen_longitud, destino_direccion, destino_latitud, destino_longitud, estado, costo_estimado, tiempo_estimado, costo_final, tiempo_real&#10;&#10;- ✅ **Tramo**: id, id_ruta, patente_camion, origen_descripcion, destino_descripcion, distancia_km, estado, fecha_inicio_estimada, fecha_fin_estimada, fecha_inicio_real, fecha_fin_real&#10;&#10;- ✅ **Ruta**: id, id_solicitud&#10;&#10;- ✅ **Configuracion**: id, clave, valor&#10;&#10;#### Capas implementadas:&#10;- ✅ Modelo (4 entidades)&#10;- ✅ Repositorio (4 interfaces con métodos de búsqueda personalizados)&#10;- ✅ Servicio (4 clases con lógica de negocio completa)&#10;- ✅ Controlador (4 clases REST)&#10;&#10;#### Endpoints principales:&#10;&#10;**Solicitudes:**&#10;- `GET /api/solicitudes` - Listar todas&#10;- `GET /api/solicitudes/{id}` - Buscar por ID&#10;- `GET /api/solicitudes/seguimiento/{numero}` - Buscar por número seguimiento&#10;- `GET /api/solicitudes/cliente/{idCliente}` - Listar por cliente&#10;- `GET /api/solicitudes/estado/{estado}` - Listar por estado&#10;- `POST /api/solicitudes` - Crear (valida número único)&#10;- `PUT /api/solicitudes/{id}` - Actualizar&#10;- `DELETE /api/solicitudes/{id}` - Eliminar&#10;&#10;**Tramos:**&#10;- `GET /api/tramos` - Listar todos&#10;- `GET /api/tramos/{id}` - Buscar por ID&#10;- `GET /api/tramos/ruta/{idRuta}` - Listar por ruta&#10;- `GET /api/tramos/camion/{patente}` - Listar por camión&#10;- `GET /api/tramos/estado/{estado}` - Listar por estado&#10;- `POST /api/tramos` - Crear&#10;- `PUT /api/tramos/{id}` - Actualizar&#10;- `DELETE /api/tramos/{id}` - Eliminar&#10;&#10;**Rutas:**&#10;- `GET /api/rutas` - Listar todas&#10;- `GET /api/rutas/{id}` - Buscar por ID&#10;- `GET /api/rutas/solicitud/{idSolicitud}` - Listar por solicitud&#10;- `POST /api/rutas` - Crear&#10;- `PUT /api/rutas/{id}` - Actualizar&#10;- `DELETE /api/rutas/{id}` - Eliminar&#10;&#10;**Configuraciones:**&#10;- `GET /api/configuraciones` - Listar todas&#10;- `GET /api/configuraciones/{id}` - Buscar por ID&#10;- `GET /api/configuraciones/clave/{clave}` - Buscar por clave&#10;- `POST /api/configuraciones` - Crear (valida clave única)&#10;- `PUT /api/configuraciones/{id}` - Actualizar&#10;- `DELETE /api/configuraciones/{id}` - Eliminar&#10;&#10;---&#10;&#10;## ⚙️ CONFIGURACIÓN DE BASES DE DATOS H2&#10;&#10;Cada servicio tiene su propia base de datos H2 en memoria para desarrollo:&#10;&#10;| Servicio | Puerto | BD H2 | Console H2 |&#10;|----------|--------|-------|------------|&#10;| servicio-gestion | 8080 | `gestdb` | `http://localhost:8080/api-gestion/h2-console` |&#10;| servicio-flota | 8081 | `flotadb` | `http://localhost:8081/api-flota/h2-console` |&#10;| servicio-logistica | 8082 | `logisticadb` | `http://localhost:8082/api-logistica/h2-console` |&#10;&#10;**Credenciales H2 (todas):**&#10;- URL JDBC: Ver tabla arriba&#10;- Usuario: `sa`&#10;- Password: (vacío)&#10;&#10;**Configuración JPA:**&#10;- `spring.jpa.hibernate.ddl-auto=create-drop` - Crea tablas al iniciar, borra al terminar&#10;- `spring.jpa.show-sql=true` - Muestra SQL en logs&#10;- `spring.jpa.properties.hibernate.format_sql=true` - Formatea SQL&#10;- `spring.jpa.properties.hibernate.use_sql_comments=true` - Agrega comentarios SQL&#10;&#10;---&#10;&#10;##  ESTRUCTURA DE PAQUETES&#10;&#10;Todos los servicios siguen la misma estructura de paquetes:&#10;&#10;```&#10;com.tpi.{servicio}/&#10;├── modelo/              # Entidades JPA&#10;├── repositorio/         # Interfaces JpaRepository&#10;├── servicio/            # Lógica de negocio&#10;├── controlador/         # Controllers REST&#10;└── {Servicio}Application.java&#10;```&#10;&#10;---&#10;&#10;## ✅ VALIDACIONES IMPLEMENTADAS&#10;&#10;### Servicio-Gestion:&#10;- Cliente: email único, validación de formato email y teléfono&#10;- Contenedor: peso y volumen positivos, cliente obligatorio&#10;- Deposito: coordenadas válidas (-90/90 lat, -180/180 long)&#10;- Tarifa: rangos y valores positivos&#10;&#10;### Servicio-Flota:&#10;- Camion: patente única, capacidades &gt;= 0, consumo y costo &gt; 0&#10;&#10;### Servicio-Logistica:&#10;- Solicitud: número seguimiento único&#10;- Tramo: estado obligatorio&#10;- Ruta: solicitud obligatoria&#10;- Configuracion: clave única&#10;&#10;---&#10;&#10;##  PATRÓN DE DISEÑO IMPLEMENTADO&#10;&#10;Todos los servicios siguen el patrón **Layered Architecture**:&#10;&#10;1. **Capa de Presentación (Controlador)**&#10;   - Maneja requests HTTP&#10;   - Valida entrada con `@Valid`&#10;   - Retorna ResponseEntity con códigos HTTP apropiados&#10;&#10;2. **Capa de Negocio (Servicio)**&#10;   - Contiene lógica de negocio&#10;   - Valida reglas (ej: no duplicados)&#10;   - Coordina entre repositorio y controlador&#10;&#10;3. **Capa de Persistencia (Repositorio)**&#10;   - Extiende JpaRepository&#10;   - Métodos de consulta personalizados&#10;   - Acceso a base de datos&#10;&#10;4. **Capa de Modelo (Entidades)**&#10;   - Anotaciones JPA&#10;   - Validaciones Bean Validation&#10;   - Lombok para getters/setters&#10;&#10;---&#10;&#10;##  PRÓXIMOS PASOS&#10;&#10;1. **Compilar todos los servicios:**&#10;   ```cmd&#10;   mvn clean install -DskipTests&#10;   ```&#10;&#10;2. **Ejecutar cada servicio en terminales separadas:**&#10;   ```cmd&#10;   # Terminal 1&#10;   cd servicio-gestion&#10;   mvn spring-boot:run&#10;&#10;   # Terminal 2&#10;   cd servicio-flota&#10;   mvn spring-boot:run&#10;&#10;   # Terminal 3&#10;   cd servicio-logistica&#10;   mvn spring-boot:run&#10;   ```&#10;&#10;3. **Probar endpoints con curl o Postman**&#10;&#10;4. **Implementar API Gateway** (próximo paso según indicaciones)&#10;&#10;5. **Agregar Keycloak para seguridad**&#10;&#10;6. **Integrar API externa de Google Maps**&#10;&#10;7. **Crear docker-compose.yml para despliegue**&#10;&#10;---&#10;&#10;##  NOTAS IMPORTANTES&#10;&#10;✅ **Cumplimiento del DER:** Todas las entidades reflejan exactamente los campos del DER proporcionado.&#10;&#10;✅ **Convenciones:** Se usan nombres de columna snake_case en BD (como el DER) y camelCase en Java (convención).&#10;&#10;✅ **Relaciones:** Las relaciones entre entidades se manejan mediante IDs (Long) para permitir comunicación entre microservicios.&#10;&#10;✅ **Validaciones:** Se usan anotaciones Jakarta Validation en todas las entidades.&#10;&#10;✅ **Logs:** Spring Boot genera logs automáticos de SQL y operaciones.&#10;&#10;✅ **Sin errores de compilación:** Todos los archivos compilaron correctamente (solo warnings de mapeo de BD).&#10;&#10;---&#10;&#10;##  CONCLUSIÓN&#10;&#10;La implementación está **completa y lista para pruebas**. Todos los microservicios tienen:&#10;&#10;- ✅ Estructura consistente siguiendo el patrón de servicio-gestion&#10;- ✅ Entidades que cumplen con el DER&#10;- ✅ CRUD completo para todas las entidades&#10;- ✅ Validaciones de negocio&#10;- ✅ Endpoints REST documentados&#10;- ✅ Configuración H2 para desarrollo&#10;- ✅ Sin errores de compilación&#10;&#10;**¡El backend está listo para ser probado y para agregar el API Gateway!** &#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/controlador/CamionControlador.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/controlador/CamionControlador.java" />
              <option name="updatedContent" value="package com.tpi.flota.controlador;&#10;&#10;import com.tpi.flota.modelo.Camion;&#10;import com.tpi.flota.servicio.CamionServicio;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Controlador REST para gestionar los camiones de la flota.&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/api/camiones&quot;)&#10;public class CamionControlador {&#10;&#10;    private final CamionServicio servicio;&#10;&#10;    public CamionControlador(CamionServicio servicio) {&#10;        this.servicio = servicio;&#10;    }&#10;&#10;    @GetMapping&#10;    public List&lt;Camion&gt; listarTodos() {&#10;        return servicio.listar();&#10;    }&#10;&#10;    @GetMapping(&quot;/disponibles&quot;)&#10;    public List&lt;Camion&gt; listarDisponibles() {&#10;        return servicio.listarDisponibles();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Camion&gt; buscarPorId(@PathVariable Long id) {&#10;        return servicio.buscarPorId(id)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/patente/{patente}&quot;)&#10;    public ResponseEntity&lt;Camion&gt; buscarPorPatente(@PathVariable String patente) {&#10;        return servicio.buscarPorPatente(patente)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Camion&gt; crear(@Valid @RequestBody Camion camion) {&#10;        return ResponseEntity.ok(servicio.guardar(camion));&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Camion&gt; actualizar(@PathVariable Long id,&#10;                                             @Valid @RequestBody Camion datos) {&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#10;    }&#10;&#10;    @PatchMapping(&quot;/{id}/disponibilidad&quot;)&#10;    public ResponseEntity&lt;Camion&gt; cambiarDisponibilidad(@PathVariable Long id,&#10;                                                        @RequestParam Boolean disponible) {&#10;        return ResponseEntity.ok(servicio.cambiarDisponibilidad(id, disponible));&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#10;        servicio.eliminar(id);&#10;        return ResponseEntity.noContent().build();&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/modelo/Camion.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/modelo/Camion.java" />
              <option name="originalContent" value="package com.tpi.flota.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotBlank;&#10;import jakarta.validation.constraints.Positive;&#10;import lombok.*;&#10;&#10;/**&#10; * Entidad que representa un camión de la flota.&#10; * Según DER: patente, nombre_transportista, telefono_transportista,&#10; * capacidad_peso, capacidad_volumen, consumo_combustible_km, costo_km, disponible&#10; */&#10;@Entity&#10;@Table(name = &quot;camiones&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Camion {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotBlank(message = &quot;La patente es obligatoria&quot;)&#10;    @Column(unique = true, nullable = false)&#10;    private String patente;&#10;&#10;    @NotBlank(message = &quot;El nombre del transportista es obligatorio&quot;)&#10;    @Column(name = &quot;nombre_transportista&quot;)&#10;    private String nombreTransportista;&#10;&#10;    @Column(name = &quot;telefono_transportista&quot;)&#10;    private String telefonoTransportista;&#10;&#10;    @Positive(message = &quot;La capacidad de peso debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;capacidad_peso&quot;)&#10;    private Double capacidadPeso;&#10;&#10;    @Positive(message = &quot;La capacidad de volumen debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;capacidad_volumen&quot;)&#10;    private Double capacidadVolumen;&#10;&#10;    @Positive(message = &quot;El consumo de combustible debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;consumo_combustible_km&quot;)&#10;    private Double consumoCombustibleKm;&#10;&#10;    @Positive(message = &quot;El costo por km debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;costo_km&quot;)&#10;    private Double costoKm;&#10;&#10;    @Column(nullable = false)&#10;    private Boolean disponible = true;&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.flota.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotBlank;&#10;import jakarta.validation.constraints.Positive;&#10;import jakarta.validation.constraints.PositiveOrZero;&#10;import lombok.*;&#10;&#10;/**&#10; * Entidad que representa un camión de la flota.&#10; * Según DER: patente, nombre_transportista, telefono_transportista,&#10; * capacidad_peso, capacidad_volumen, consumo_combustible_km, costo_km, disponible&#10; */&#10;@Entity&#10;@Table(name = &quot;camiones&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Camion {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotBlank(message = &quot;La patente es obligatoria&quot;)&#10;    @Column(unique = true, nullable = false)&#10;    private String patente;&#10;&#10;    @NotBlank(message = &quot;El nombre del transportista es obligatorio&quot;)&#10;    @Column(name = &quot;nombre_transportista&quot;)&#10;    private String nombreTransportista;&#10;&#10;    @Column(name = &quot;telefono_transportista&quot;)&#10;    private String telefonoTransportista;&#10;&#10;    @PositiveOrZero(message = &quot;La capacidad de peso debe ser mayor o igual a 0&quot;)&#10;    @Column(name = &quot;capacidad_peso&quot;)&#10;    private Double capacidadPeso;&#10;&#10;    @PositiveOrZero(message = &quot;La capacidad de volumen debe ser mayor o igual a 0&quot;)&#10;    @Column(name = &quot;capacidad_volumen&quot;)&#10;    private Double capacidadVolumen;&#10;&#10;    @Positive(message = &quot;El consumo de combustible debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;consumo_combustible_km&quot;)&#10;    private Double consumoCombustibleKm;&#10;&#10;    @Positive(message = &quot;El costo por km debe ser mayor a 0&quot;)&#10;    @Column(name = &quot;costo_km&quot;)&#10;    private Double costoKm;&#10;&#10;    @Column(nullable = false)&#10;    private Boolean disponible = true;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/repositorio/CamionRepositorio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/repositorio/CamionRepositorio.java" />
              <option name="updatedContent" value="package com.tpi.flota.repositorio;&#10;&#10;import com.tpi.flota.modelo.Camion;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Repositorio para gestionar las operaciones de persistencia de Camion.&#10; */&#10;@Repository&#10;public interface CamionRepositorio extends JpaRepository&lt;Camion, Long&gt; {&#10;    &#10;    Optional&lt;Camion&gt; findByPatente(String patente);&#10;    &#10;    List&lt;Camion&gt; findByDisponible(Boolean disponible);&#10;    &#10;    boolean existsByPatente(String patente);&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/servicio/CamionServicio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-flota/src/main/java/com/tpi/flota/servicio/CamionServicio.java" />
              <option name="updatedContent" value="package com.tpi.flota.servicio;&#10;&#10;import com.tpi.flota.modelo.Camion;&#10;import com.tpi.flota.repositorio.CamionRepositorio;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Servicio que contiene la lógica de negocio para gestionar camiones.&#10; */&#10;@Service&#10;public class CamionServicio {&#10;&#10;    private final CamionRepositorio repositorio;&#10;&#10;    public CamionServicio(CamionRepositorio repositorio) {&#10;        this.repositorio = repositorio;&#10;    }&#10;&#10;    public List&lt;Camion&gt; listar() {&#10;        return repositorio.findAll();&#10;    }&#10;&#10;    public Optional&lt;Camion&gt; buscarPorId(Long id) {&#10;        return repositorio.findById(id);&#10;    }&#10;&#10;    public Optional&lt;Camion&gt; buscarPorPatente(String patente) {&#10;        return repositorio.findByPatente(patente);&#10;    }&#10;&#10;    public List&lt;Camion&gt; listarDisponibles() {&#10;        return repositorio.findByDisponible(true);&#10;    }&#10;&#10;    public Camion guardar(Camion nuevoCamion) {&#10;        if (repositorio.existsByPatente(nuevoCamion.getPatente())) {&#10;            throw new RuntimeException(&quot;Ya existe un camión con esa patente&quot;);&#10;        }&#10;        return repositorio.save(nuevoCamion);&#10;    }&#10;&#10;    public Camion actualizar(Long id, Camion datosActualizados) {&#10;        return repositorio.findById(id)&#10;                .map(camion -&gt; {&#10;                    camion.setPatente(datosActualizados.getPatente());&#10;                    camion.setNombreTransportista(datosActualizados.getNombreTransportista());&#10;                    camion.setTelefonoTransportista(datosActualizados.getTelefonoTransportista());&#10;                    camion.setCapacidadPeso(datosActualizados.getCapacidadPeso());&#10;                    camion.setCapacidadVolumen(datosActualizados.getCapacidadVolumen());&#10;                    camion.setConsumoCombustibleKm(datosActualizados.getConsumoCombustibleKm());&#10;                    camion.setCostoKm(datosActualizados.getCostoKm());&#10;                    camion.setDisponible(datosActualizados.getDisponible());&#10;                    return repositorio.save(camion);&#10;                })&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Camión no encontrado&quot;));&#10;    }&#10;&#10;    public Camion cambiarDisponibilidad(Long id, Boolean disponible) {&#10;        return repositorio.findById(id)&#10;                .map(camion -&gt; {&#10;                    camion.setDisponible(disponible);&#10;                    return repositorio.save(camion);&#10;                })&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Camión no encontrado&quot;));&#10;    }&#10;&#10;    public void eliminar(Long id) {&#10;        repositorio.deleteById(id);&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/ConfiguracionControlador.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/ConfiguracionControlador.java" />
              <option name="originalContent" value="package com.tpi.logistica.controlador;&#10;&#10;import com.tpi.logistica.modelo.Configuracion;&#10;import com.tpi.logistica.servicio.ConfiguracionServicio;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Controlador REST para gestionar configuraciones.&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/api/configuraciones&quot;)&#10;public class ConfiguracionControlador {&#10;&#10;    private final ConfiguracionServicio servicio;&#10;&#10;    public ConfiguracionControlador(ConfiguracionServicio servicio) {&#10;        this.servicio = servicio;&#10;    }&#10;&#10;    @GetMapping&#10;    public List&lt;Configuracion&gt; listarTodas() {&#10;        return servicio.listar();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Configuracion&gt; buscarPorId(@PathVariable Long id) {&#10;        return servicio.buscarPorId(id)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/clave/{clave}&quot;)&#10;    public ResponseEntity&lt;Configuracion&gt; buscarPorClave(@PathVariable String clave) {&#10;        return servicio.buscarPorClave(clave)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Configuracion&gt; crear(@Valid @RequestBody Configuracion configuracion) {&#10;        Configuracion nueva = servicio.guardar(configuracion);&#10;        return ResponseEntity.ok(nueva);&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Configuracion&gt; actualizar(@PathVariable Long id,&#10;                                                    @Valid @RequestBody Configuracion datos) {&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#10;        servicio.eliminar(id);&#10;        return ResponseEntity.noContent().build();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.controlador;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Configuracion;&#13;&#10;import com.tpi.logistica.servicio.ConfiguracionServicio;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;/**&#13;&#10; * Controlador REST para gestionar configuraciones.&#13;&#10; */&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/configuraciones&quot;)&#13;&#10;public class ConfiguracionControlador {&#13;&#10;&#13;&#10;    private final ConfiguracionServicio servicio;&#13;&#10;&#13;&#10;    public ConfiguracionControlador(ConfiguracionServicio servicio) {&#13;&#10;        this.servicio = servicio;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public List&lt;Configuracion&gt; listarTodas() {&#13;&#10;        return servicio.listar();&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Configuracion&gt; buscarPorId(@PathVariable Long id) {&#13;&#10;        return servicio.buscarPorId(id)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/clave/{clave}&quot;)&#13;&#10;    public ResponseEntity&lt;Configuracion&gt; buscarPorClave(@PathVariable String clave) {&#13;&#10;        return servicio.buscarPorClave(clave)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Configuracion&gt; crear(@Valid @RequestBody Configuracion configuracion) {&#13;&#10;        Configuracion nueva = servicio.guardar(configuracion);&#13;&#10;        return ResponseEntity.ok(nueva);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Configuracion&gt; actualizar(@PathVariable Long id,&#13;&#10;                                                    @Valid @RequestBody Configuracion datos) {&#13;&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#13;&#10;        servicio.eliminar(id);&#13;&#10;        return ResponseEntity.noContent().build();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/RutaControlador.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/RutaControlador.java" />
              <option name="originalContent" value="package com.tpi.logistica.controlador;&#10;&#10;import com.tpi.logistica.modelo.Ruta;&#10;import com.tpi.logistica.servicio.RutaServicio;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Controlador REST para gestionar rutas.&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/api/rutas&quot;)&#10;public class RutaControlador {&#10;&#10;    private final RutaServicio servicio;&#10;&#10;    public RutaControlador(RutaServicio servicio) {&#10;        this.servicio = servicio;&#10;    }&#10;&#10;    @GetMapping&#10;    public List&lt;Ruta&gt; listarTodas() {&#10;        return servicio.listar();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Ruta&gt; buscarPorId(@PathVariable Long id) {&#10;        return servicio.buscarPorId(id)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/solicitud/{idSolicitud}&quot;)&#10;    public List&lt;Ruta&gt; listarPorSolicitud(@PathVariable Long idSolicitud) {&#10;        return servicio.listarPorSolicitud(idSolicitud);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Ruta&gt; crear(@Valid @RequestBody Ruta ruta) {&#10;        Ruta nueva = servicio.guardar(ruta);&#10;        return ResponseEntity.ok(nueva);&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Ruta&gt; actualizar(@PathVariable Long id,&#10;                                          @Valid @RequestBody Ruta datos) {&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#10;        servicio.eliminar(id);&#10;        return ResponseEntity.noContent().build();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.controlador;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Ruta;&#13;&#10;import com.tpi.logistica.servicio.RutaServicio;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;/**&#13;&#10; * Controlador REST para gestionar rutas.&#13;&#10; */&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/rutas&quot;)&#13;&#10;public class RutaControlador {&#13;&#10;&#13;&#10;    private final RutaServicio servicio;&#13;&#10;&#13;&#10;    public RutaControlador(RutaServicio servicio) {&#13;&#10;        this.servicio = servicio;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public List&lt;Ruta&gt; listarTodas() {&#13;&#10;        return servicio.listar();&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Ruta&gt; buscarPorId(@PathVariable Long id) {&#13;&#10;        return servicio.buscarPorId(id)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/solicitud/{idSolicitud}&quot;)&#13;&#10;    public List&lt;Ruta&gt; listarPorSolicitud(@PathVariable Long idSolicitud) {&#13;&#10;        return servicio.listarPorSolicitud(idSolicitud);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Ruta&gt; crear(@Valid @RequestBody Ruta ruta) {&#13;&#10;        Ruta nueva = servicio.guardar(ruta);&#13;&#10;        return ResponseEntity.ok(nueva);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Ruta&gt; actualizar(@PathVariable Long id,&#13;&#10;                                          @Valid @RequestBody Ruta datos) {&#13;&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#13;&#10;        servicio.eliminar(id);&#13;&#10;        return ResponseEntity.noContent().build();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/SolicitudControlador.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/SolicitudControlador.java" />
              <option name="originalContent" value="package com.tpi.logistica.controlador;&#10;&#10;import com.tpi.logistica.modelo.Solicitud;&#10;import com.tpi.logistica.servicio.SolicitudServicio;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Controlador REST para gestionar solicitudes.&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/api/solicitudes&quot;)&#10;public class SolicitudControlador {&#10;&#10;    private final SolicitudServicio servicio;&#10;&#10;    public SolicitudControlador(SolicitudServicio servicio) {&#10;        this.servicio = servicio;&#10;    }&#10;&#10;    @GetMapping&#10;    public List&lt;Solicitud&gt; listarTodas() {&#10;        return servicio.listar();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Solicitud&gt; buscarPorId(@PathVariable Long id) {&#10;        return servicio.buscarPorId(id)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/seguimiento/{numeroSeguimiento}&quot;)&#10;    public ResponseEntity&lt;Solicitud&gt; buscarPorNumeroSeguimiento(@PathVariable String numeroSeguimiento) {&#10;        return servicio.buscarPorNumeroSeguimiento(numeroSeguimiento)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/cliente/{idCliente}&quot;)&#10;    public List&lt;Solicitud&gt; listarPorCliente(@PathVariable Long idCliente) {&#10;        return servicio.listarPorCliente(idCliente);&#10;    }&#10;&#10;    @GetMapping(&quot;/estado/{estado}&quot;)&#10;    public List&lt;Solicitud&gt; listarPorEstado(@PathVariable String estado) {&#10;        return servicio.listarPorEstado(estado);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Solicitud&gt; crear(@Valid @RequestBody Solicitud solicitud) {&#10;        Solicitud nueva = servicio.guardar(solicitud);&#10;        return ResponseEntity.ok(nueva);&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Solicitud&gt; actualizar(@PathVariable Long id,&#10;                                               @Valid @RequestBody Solicitud datos) {&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#10;        servicio.eliminar(id);&#10;        return ResponseEntity.noContent().build();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.controlador;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Solicitud;&#13;&#10;import com.tpi.logistica.servicio.SolicitudServicio;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;/**&#13;&#10; * Controlador REST para gestionar solicitudes.&#13;&#10; */&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/solicitudes&quot;)&#13;&#10;public class SolicitudControlador {&#13;&#10;&#13;&#10;    private final SolicitudServicio servicio;&#13;&#10;&#13;&#10;    public SolicitudControlador(SolicitudServicio servicio) {&#13;&#10;        this.servicio = servicio;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public List&lt;Solicitud&gt; listarTodas() {&#13;&#10;        return servicio.listar();&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Solicitud&gt; buscarPorId(@PathVariable Long id) {&#13;&#10;        return servicio.buscarPorId(id)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/seguimiento/{numeroSeguimiento}&quot;)&#13;&#10;    public ResponseEntity&lt;Solicitud&gt; buscarPorNumeroSeguimiento(@PathVariable String numeroSeguimiento) {&#13;&#10;        return servicio.buscarPorNumeroSeguimiento(numeroSeguimiento)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/cliente/{idCliente}&quot;)&#13;&#10;    public List&lt;Solicitud&gt; listarPorCliente(@PathVariable Long idCliente) {&#13;&#10;        return servicio.listarPorCliente(idCliente);&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/estado/{estado}&quot;)&#13;&#10;    public List&lt;Solicitud&gt; listarPorEstado(@PathVariable String estado) {&#13;&#10;        return servicio.listarPorEstado(estado);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Solicitud&gt; crear(@Valid @RequestBody Solicitud solicitud) {&#13;&#10;        Solicitud nueva = servicio.guardar(solicitud);&#13;&#10;        return ResponseEntity.ok(nueva);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Solicitud&gt; actualizar(@PathVariable Long id,&#13;&#10;                                               @Valid @RequestBody Solicitud datos) {&#13;&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#13;&#10;        servicio.eliminar(id);&#13;&#10;        return ResponseEntity.noContent().build();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/TramoControlador.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/controlador/TramoControlador.java" />
              <option name="originalContent" value="package com.tpi.logistica.controlador;&#10;&#10;import com.tpi.logistica.modelo.Tramo;&#10;import com.tpi.logistica.servicio.TramoServicio;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Controlador REST para gestionar tramos.&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/api/tramos&quot;)&#10;public class TramoControlador {&#10;&#10;    private final TramoServicio servicio;&#10;&#10;    public TramoControlador(TramoServicio servicio) {&#10;        this.servicio = servicio;&#10;    }&#10;&#10;    @GetMapping&#10;    public List&lt;Tramo&gt; listarTodos() {&#10;        return servicio.listar();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Tramo&gt; buscarPorId(@PathVariable Long id) {&#10;        return servicio.buscarPorId(id)&#10;                .map(ResponseEntity::ok)&#10;                .orElse(ResponseEntity.notFound().build());&#10;    }&#10;&#10;    @GetMapping(&quot;/ruta/{idRuta}&quot;)&#10;    public List&lt;Tramo&gt; listarPorRuta(@PathVariable Long idRuta) {&#10;        return servicio.listarPorRuta(idRuta);&#10;    }&#10;&#10;    @GetMapping(&quot;/camion/{patenteCamion}&quot;)&#10;    public List&lt;Tramo&gt; listarPorCamion(@PathVariable String patenteCamion) {&#10;        return servicio.listarPorCamion(patenteCamion);&#10;    }&#10;&#10;    @GetMapping(&quot;/estado/{estado}&quot;)&#10;    public List&lt;Tramo&gt; listarPorEstado(@PathVariable String estado) {&#10;        return servicio.listarPorEstado(estado);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Tramo&gt; crear(@Valid @RequestBody Tramo tramo) {&#10;        Tramo nuevo = servicio.guardar(tramo);&#10;        return ResponseEntity.ok(nuevo);&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Tramo&gt; actualizar(@PathVariable Long id,&#10;                                           @Valid @RequestBody Tramo datos) {&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#10;        servicio.eliminar(id);&#10;        return ResponseEntity.noContent().build();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.controlador;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Tramo;&#13;&#10;import com.tpi.logistica.servicio.TramoServicio;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;/**&#13;&#10; * Controlador REST para gestionar tramos.&#13;&#10; */&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/tramos&quot;)&#13;&#10;public class TramoControlador {&#13;&#10;&#13;&#10;    private final TramoServicio servicio;&#13;&#10;&#13;&#10;    public TramoControlador(TramoServicio servicio) {&#13;&#10;        this.servicio = servicio;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public List&lt;Tramo&gt; listarTodos() {&#13;&#10;        return servicio.listar();&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Tramo&gt; buscarPorId(@PathVariable Long id) {&#13;&#10;        return servicio.buscarPorId(id)&#13;&#10;                .map(ResponseEntity::ok)&#13;&#10;                .orElse(ResponseEntity.notFound().build());&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/ruta/{idRuta}&quot;)&#13;&#10;    public List&lt;Tramo&gt; listarPorRuta(@PathVariable Long idRuta) {&#13;&#10;        return servicio.listarPorRuta(idRuta);&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/camion/{patenteCamion}&quot;)&#13;&#10;    public List&lt;Tramo&gt; listarPorCamion(@PathVariable String patenteCamion) {&#13;&#10;        return servicio.listarPorCamion(patenteCamion);&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/estado/{estado}&quot;)&#13;&#10;    public List&lt;Tramo&gt; listarPorEstado(@PathVariable String estado) {&#13;&#10;        return servicio.listarPorEstado(estado);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Tramo&gt; crear(@Valid @RequestBody Tramo tramo) {&#13;&#10;        return ResponseEntity.ok(servicio.guardar(tramo));&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Tramo&gt; actualizar(@PathVariable Long id,&#13;&#10;                                           @Valid @RequestBody Tramo datos) {&#13;&#10;        return ResponseEntity.ok(servicio.actualizar(id, datos));&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Void&gt; eliminar(@PathVariable Long id) {&#13;&#10;        servicio.eliminar(id);&#13;&#10;        return ResponseEntity.noContent().build();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Configuracion.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Configuracion.java" />
              <option name="updatedContent" value="package com.tpi.logistica.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotBlank;&#10;import lombok.*;&#10;&#10;/**&#10; * Entidad Configuracion según DER.&#10; * Campos: id, clave, valor&#10; */&#10;@Entity&#10;@Table(name = &quot;configuracion&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Configuracion {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotBlank(message = &quot;La clave es obligatoria&quot;)&#10;    @Column(unique = true, nullable = false)&#10;    private String clave;&#10;&#10;    @NotBlank(message = &quot;El valor es obligatorio&quot;)&#10;    @Column(nullable = false)&#10;    private String valor;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Ruta.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Ruta.java" />
              <option name="updatedContent" value="package com.tpi.logistica.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotNull;&#10;import lombok.*;&#10;&#10;/**&#10; * Entidad Ruta según DER.&#10; * Campos: id, id_solicitud&#10; */&#10;@Entity&#10;@Table(name = &quot;rutas&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Ruta {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotNull(message = &quot;El ID de la solicitud es obligatorio&quot;)&#10;    @Column(name = &quot;id_solicitud&quot;)&#10;    private Long idSolicitud;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Solicitud.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Solicitud.java" />
              <option name="updatedContent" value="package com.tpi.logistica.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotBlank;&#10;import jakarta.validation.constraints.NotNull;&#10;import lombok.*;&#10;&#10;/**&#10; * Entidad Solicitud según DER.&#10; * Campos: id, numero_seguimiento, id_contenedor, id_cliente,&#10; * origen_direccion, origen_latitud, origen_longitud,&#10; * destino_direccion, destino_latitud, destino_longitud,&#10; * estado, costo_estimado, tiempo_estimado, costo_final, tiempo_real&#10; */&#10;@Entity&#10;@Table(name = &quot;solicitudes&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Solicitud {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotBlank(message = &quot;El número de seguimiento es obligatorio&quot;)&#10;    @Column(name = &quot;numero_seguimiento&quot;, unique = true, nullable = false)&#10;    private String numeroSeguimiento;&#10;&#10;    @NotNull(message = &quot;El ID del contenedor es obligatorio&quot;)&#10;    @Column(name = &quot;id_contenedor&quot;)&#10;    private Long idContenedor;&#10;&#10;    @NotNull(message = &quot;El ID del cliente es obligatorio&quot;)&#10;    @Column(name = &quot;id_cliente&quot;)&#10;    private Long idCliente;&#10;&#10;    @Column(name = &quot;origen_direccion&quot;)&#10;    private String origenDireccion;&#10;&#10;    @Column(name = &quot;origen_latitud&quot;)&#10;    private Double origenLatitud;&#10;&#10;    @Column(name = &quot;origen_longitud&quot;)&#10;    private Double origenLongitud;&#10;&#10;    @Column(name = &quot;destino_direccion&quot;)&#10;    private String destinoDireccion;&#10;&#10;    @Column(name = &quot;destino_latitud&quot;)&#10;    private Double destinoLatitud;&#10;&#10;    @Column(name = &quot;destino_longitud&quot;)&#10;    private Double destinoLongitud;&#10;&#10;    @NotBlank(message = &quot;El estado es obligatorio&quot;)&#10;    @Column(nullable = false)&#10;    private String estado;&#10;&#10;    @Column(name = &quot;costo_estimado&quot;)&#10;    private Double costoEstimado;&#10;&#10;    @Column(name = &quot;tiempo_estimado&quot;)&#10;    private Double tiempoEstimado;&#10;&#10;    @Column(name = &quot;costo_final&quot;)&#10;    private Double costoFinal;&#10;&#10;    @Column(name = &quot;tiempo_real&quot;)&#10;    private Double tiempoReal;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Tramo.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/modelo/Tramo.java" />
              <option name="updatedContent" value="package com.tpi.logistica.modelo;&#10;&#10;import jakarta.persistence.*;&#10;import jakarta.validation.constraints.NotBlank;&#10;import jakarta.validation.constraints.NotNull;&#10;import lombok.*;&#10;&#10;import java.time.LocalDateTime;&#10;&#10;/**&#10; * Entidad Tramo según DER.&#10; * Campos: id, id_ruta, patente_camion, origen_descripcion, destino_descripcion,&#10; * distancia_km, estado, fecha_inicio_estimada, fecha_fin_estimada,&#10; * fecha_inicio_real, fecha_fin_real&#10; */&#10;@Entity&#10;@Table(name = &quot;tramos&quot;)&#10;@Getter&#10;@Setter&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;@Builder&#10;public class Tramo {&#10;&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @NotNull(message = &quot;El ID de la ruta es obligatorio&quot;)&#10;    @Column(name = &quot;id_ruta&quot;)&#10;    private Long idRuta;&#10;&#10;    @Column(name = &quot;patente_camion&quot;)&#10;    private String patenteCamion;&#10;&#10;    @Column(name = &quot;origen_descripcion&quot;)&#10;    private String origenDescripcion;&#10;&#10;    @Column(name = &quot;destino_descripcion&quot;)&#10;    private String destinoDescripcion;&#10;&#10;    @Column(name = &quot;distancia_km&quot;)&#10;    private Double distanciaKm;&#10;&#10;    @NotBlank(message = &quot;El estado es obligatorio&quot;)&#10;    @Column(nullable = false)&#10;    private String estado;&#10;&#10;    @Column(name = &quot;fecha_inicio_estimada&quot;)&#10;    private LocalDateTime fechaInicioEstimada;&#10;&#10;    @Column(name = &quot;fecha_fin_estimada&quot;)&#10;    private LocalDateTime fechaFinEstimada;&#10;&#10;    @Column(name = &quot;fecha_inicio_real&quot;)&#10;    private LocalDateTime fechaInicioReal;&#10;&#10;    @Column(name = &quot;fecha_fin_real&quot;)&#10;    private LocalDateTime fechaFinReal;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/ConfiguracionRepositorio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/ConfiguracionRepositorio.java" />
              <option name="updatedContent" value="package com.tpi.logistica.repositorio;&#10;&#10;import com.tpi.logistica.modelo.Configuracion;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Repositorio para gestionar las operaciones de persistencia de Configuracion.&#10; */&#10;@Repository&#10;public interface ConfiguracionRepositorio extends JpaRepository&lt;Configuracion, Long&gt; {&#10;    &#10;    Optional&lt;Configuracion&gt; findByClave(String clave);&#10;    &#10;    boolean existsByClave(String clave);&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/RutaRepositorio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/RutaRepositorio.java" />
              <option name="updatedContent" value="package com.tpi.logistica.repositorio;&#10;&#10;import com.tpi.logistica.modelo.Ruta;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Repositorio para gestionar las operaciones de persistencia de Ruta.&#10; */&#10;@Repository&#10;public interface RutaRepositorio extends JpaRepository&lt;Ruta, Long&gt; {&#10;    &#10;    List&lt;Ruta&gt; findByIdSolicitud(Long idSolicitud);&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/SolicitudRepositorio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/SolicitudRepositorio.java" />
              <option name="updatedContent" value="package com.tpi.logistica.repositorio;&#10;&#10;import com.tpi.logistica.modelo.Solicitud;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Repositorio para gestionar las operaciones de persistencia de Solicitud.&#10; */&#10;@Repository&#10;public interface SolicitudRepositorio extends JpaRepository&lt;Solicitud, Long&gt; {&#10;    &#10;    Optional&lt;Solicitud&gt; findByNumeroSeguimiento(String numeroSeguimiento);&#10;    &#10;    List&lt;Solicitud&gt; findByIdCliente(Long idCliente);&#10;    &#10;    List&lt;Solicitud&gt; findByEstado(String estado);&#10;    &#10;    boolean existsByNumeroSeguimiento(String numeroSeguimiento);&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/TramoRepositorio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/repositorio/TramoRepositorio.java" />
              <option name="updatedContent" value="package com.tpi.logistica.repositorio;&#10;&#10;import com.tpi.logistica.modelo.Tramo;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;&#10;import java.util.List;&#10;&#10;/**&#10; * Repositorio para gestionar las operaciones de persistencia de Tramo.&#10; */&#10;@Repository&#10;public interface TramoRepositorio extends JpaRepository&lt;Tramo, Long&gt; {&#10;    &#10;    List&lt;Tramo&gt; findByIdRuta(Long idRuta);&#10;    &#10;    List&lt;Tramo&gt; findByPatenteCamion(String patenteCamion);&#10;    &#10;    List&lt;Tramo&gt; findByEstado(String estado);&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/ConfiguracionServicio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/ConfiguracionServicio.java" />
              <option name="originalContent" value="package com.tpi.logistica.servicio;&#10;&#10;import com.tpi.logistica.modelo.Configuracion;&#10;import com.tpi.logistica.repositorio.ConfiguracionRepositorio;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Servicio que contiene la lógica de negocio para gestionar configuraciones.&#10; */&#10;@Service&#10;public class ConfiguracionServicio {&#10;&#10;    private final ConfiguracionRepositorio repositorio;&#10;&#10;    public ConfiguracionServicio(ConfiguracionRepositorio repositorio) {&#10;        this.repositorio = repositorio;&#10;    }&#10;&#10;    public List&lt;Configuracion&gt; listar() {&#10;        return repositorio.findAll();&#10;    }&#10;&#10;    public Optional&lt;Configuracion&gt; buscarPorId(Long id) {&#10;        return repositorio.findById(id);&#10;    }&#10;&#10;    public Optional&lt;Configuracion&gt; buscarPorClave(String clave) {&#10;        return repositorio.findByClave(clave);&#10;    }&#10;&#10;    public Configuracion guardar(Configuracion nuevaConfiguracion) {&#10;        return repositorio.save(nuevaConfiguracion);&#10;    }&#10;&#10;    public Configuracion actualizar(Long id, Configuracion datosActualizados) {&#10;        return repositorio.findById(id)&#10;                .map(config -&gt; {&#10;                    config.setClave(datosActualizados.getClave());&#10;                    config.setValor(datosActualizados.getValor());&#10;                    return repositorio.save(config);&#10;                })&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Configuración no encontrada&quot;));&#10;    }&#10;&#10;    public void eliminar(Long id) {&#10;        repositorio.deleteById(id);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.servicio;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Configuracion;&#13;&#10;import com.tpi.logistica.repositorio.ConfiguracionRepositorio;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Optional;&#13;&#10;&#13;&#10;/**&#13;&#10; * Servicio que contiene la lógica de negocio para gestionar configuraciones.&#13;&#10; */&#13;&#10;@Service&#13;&#10;public class ConfiguracionServicio {&#13;&#10;&#13;&#10;    private final ConfiguracionRepositorio repositorio;&#13;&#10;&#13;&#10;    public ConfiguracionServicio(ConfiguracionRepositorio repositorio) {&#13;&#10;        this.repositorio = repositorio;&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Configuracion&gt; listar() {&#13;&#10;        return repositorio.findAll();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Optional&lt;Configuracion&gt; buscarPorId(Long id) {&#13;&#10;        return repositorio.findById(id);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Optional&lt;Configuracion&gt; buscarPorClave(String clave) {&#13;&#10;        return repositorio.findByClave(clave);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Configuracion guardar(Configuracion nuevaConfiguracion) {&#13;&#10;        if (repositorio.existsByClave(nuevaConfiguracion.getClave())) {&#13;&#10;            throw new RuntimeException(&quot;Ya existe una configuración con esa clave&quot;);&#13;&#10;        }&#13;&#10;        return repositorio.save(nuevaConfiguracion);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Configuracion actualizar(Long id, Configuracion datosActualizados) {&#13;&#10;        return repositorio.findById(id)&#13;&#10;                .map(config -&gt; {&#13;&#10;                    config.setClave(datosActualizados.getClave());&#13;&#10;                    config.setValor(datosActualizados.getValor());&#13;&#10;                    return repositorio.save(config);&#13;&#10;                })&#13;&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Configuración no encontrada&quot;));&#13;&#10;    }&#13;&#10;&#13;&#10;    public void eliminar(Long id) {&#13;&#10;        repositorio.deleteById(id);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/SolicitudServicio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/SolicitudServicio.java" />
              <option name="originalContent" value="package com.tpi.logistica.servicio;&#10;&#10;import com.tpi.logistica.modelo.Solicitud;&#10;import com.tpi.logistica.repositorio.SolicitudRepositorio;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Servicio que contiene la lógica de negocio para gestionar solicitudes.&#10; */&#10;@Service&#10;public class SolicitudServicio {&#10;&#10;    private final SolicitudRepositorio repositorio;&#10;&#10;    public SolicitudServicio(SolicitudRepositorio repositorio) {&#10;        this.repositorio = repositorio;&#10;    }&#10;&#10;    public List&lt;Solicitud&gt; listar() {&#10;        return repositorio.findAll();&#10;    }&#10;&#10;    public Optional&lt;Solicitud&gt; buscarPorId(Long id) {&#10;        return repositorio.findById(id);&#10;    }&#10;&#10;    public Optional&lt;Solicitud&gt; buscarPorNumeroSeguimiento(String numeroSeguimiento) {&#10;        return repositorio.findByNumeroSeguimiento(numeroSeguimiento);&#10;    }&#10;&#10;    public List&lt;Solicitud&gt; listarPorCliente(Long idCliente) {&#10;        return repositorio.findByIdCliente(idCliente);&#10;    }&#10;&#10;    public List&lt;Solicitud&gt; listarPorEstado(String estado) {&#10;        return repositorio.findByEstado(estado);&#10;    }&#10;&#10;    public Solicitud guardar(Solicitud nuevaSolicitud) {&#10;        return repositorio.save(nuevaSolicitud);&#10;    }&#10;&#10;    public Solicitud actualizar(Long id, Solicitud datosActualizados) {&#10;        return repositorio.findById(id)&#10;                .map(solicitud -&gt; {&#10;                    solicitud.setNumeroSeguimiento(datosActualizados.getNumeroSeguimiento());&#10;                    solicitud.setIdContenedor(datosActualizados.getIdContenedor());&#10;                    solicitud.setIdCliente(datosActualizados.getIdCliente());&#10;                    solicitud.setOrigenDireccion(datosActualizados.getOrigenDireccion());&#10;                    solicitud.setOrigenLatitud(datosActualizados.getOrigenLatitud());&#10;                    solicitud.setOrigenLongitud(datosActualizados.getOrigenLongitud());&#10;                    solicitud.setDestinoDireccion(datosActualizados.getDestinoDireccion());&#10;                    solicitud.setDestinoLatitud(datosActualizados.getDestinoLatitud());&#10;                    solicitud.setDestinoLongitud(datosActualizados.getDestinoLongitud());&#10;                    solicitud.setEstado(datosActualizados.getEstado());&#10;                    solicitud.setCostoEstimado(datosActualizados.getCostoEstimado());&#10;                    solicitud.setTiempoEstimado(datosActualizados.getTiempoEstimado());&#10;                    solicitud.setCostoFinal(datosActualizados.getCostoFinal());&#10;                    solicitud.setTiempoReal(datosActualizados.getTiempoReal());&#10;                    return repositorio.save(solicitud);&#10;                })&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Solicitud no encontrada&quot;));&#10;    }&#10;&#10;    public void eliminar(Long id) {&#10;        repositorio.deleteById(id);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.servicio;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Solicitud;&#13;&#10;import com.tpi.logistica.repositorio.SolicitudRepositorio;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Optional;&#13;&#10;&#13;&#10;/**&#13;&#10; * Servicio que contiene la lógica de negocio para gestionar solicitudes.&#13;&#10; */&#13;&#10;@Service&#13;&#10;public class SolicitudServicio {&#13;&#10;&#13;&#10;    private final SolicitudRepositorio repositorio;&#13;&#10;&#13;&#10;    public SolicitudServicio(SolicitudRepositorio repositorio) {&#13;&#10;        this.repositorio = repositorio;&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Solicitud&gt; listar() {&#13;&#10;        return repositorio.findAll();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Optional&lt;Solicitud&gt; buscarPorId(Long id) {&#13;&#10;        return repositorio.findById(id);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Optional&lt;Solicitud&gt; buscarPorNumeroSeguimiento(String numeroSeguimiento) {&#13;&#10;        return repositorio.findByNumeroSeguimiento(numeroSeguimiento);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Solicitud&gt; listarPorCliente(Long idCliente) {&#13;&#10;        return repositorio.findByIdCliente(idCliente);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Solicitud&gt; listarPorEstado(String estado) {&#13;&#10;        return repositorio.findByEstado(estado);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Solicitud guardar(Solicitud nuevaSolicitud) {&#13;&#10;        if (repositorio.existsByNumeroSeguimiento(nuevaSolicitud.getNumeroSeguimiento())) {&#13;&#10;            throw new RuntimeException(&quot;Ya existe una solicitud con ese número de seguimiento&quot;);&#13;&#10;        }&#13;&#10;        return repositorio.save(nuevaSolicitud);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Solicitud actualizar(Long id, Solicitud datosActualizados) {&#13;&#10;        return repositorio.findById(id)&#13;&#10;                .map(solicitud -&gt; {&#13;&#10;                    solicitud.setNumeroSeguimiento(datosActualizados.getNumeroSeguimiento());&#13;&#10;                    solicitud.setIdContenedor(datosActualizados.getIdContenedor());&#13;&#10;                    solicitud.setIdCliente(datosActualizados.getIdCliente());&#13;&#10;                    solicitud.setOrigenDireccion(datosActualizados.getOrigenDireccion());&#13;&#10;                    solicitud.setOrigenLatitud(datosActualizados.getOrigenLatitud());&#13;&#10;                    solicitud.setOrigenLongitud(datosActualizados.getOrigenLongitud());&#13;&#10;                    solicitud.setDestinoDireccion(datosActualizados.getDestinoDireccion());&#13;&#10;                    solicitud.setDestinoLatitud(datosActualizados.getDestinoLatitud());&#13;&#10;                    solicitud.setDestinoLongitud(datosActualizados.getDestinoLongitud());&#13;&#10;                    solicitud.setEstado(datosActualizados.getEstado());&#13;&#10;                    solicitud.setCostoEstimado(datosActualizados.getCostoEstimado());&#13;&#10;                    solicitud.setTiempoEstimado(datosActualizados.getTiempoEstimado());&#13;&#10;                    solicitud.setCostoFinal(datosActualizados.getCostoFinal());&#13;&#10;                    solicitud.setTiempoReal(datosActualizados.getTiempoReal());&#13;&#10;                    return repositorio.save(solicitud);&#13;&#10;                })&#13;&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Solicitud no encontrada&quot;));&#13;&#10;    }&#13;&#10;&#13;&#10;    public void eliminar(Long id) {&#13;&#10;        repositorio.deleteById(id);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/TramoServicio.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/servicio-logistica/src/main/java/com/tpi/logistica/servicio/TramoServicio.java" />
              <option name="originalContent" value="package com.tpi.logistica.servicio;&#10;&#10;import com.tpi.logistica.modelo.Tramo;&#10;import com.tpi.logistica.repositorio.TramoRepositorio;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;/**&#10; * Servicio que contiene la lógica de negocio para gestionar tramos.&#10; */&#10;@Service&#10;public class TramoServicio {&#10;&#10;    private final TramoRepositorio repositorio;&#10;&#10;    public TramoServicio(TramoRepositorio repositorio) {&#10;        this.repositorio = repositorio;&#10;    }&#10;&#10;    public List&lt;Tramo&gt; listar() {&#10;        return repositorio.findAll();&#10;    }&#10;&#10;    public Optional&lt;Tramo&gt; buscarPorId(Long id) {&#10;        return repositorio.findById(id);&#10;    }&#10;&#10;    public List&lt;Tramo&gt; listarPorRuta(Long idRuta) {&#10;        return repositorio.findByIdRuta(idRuta);&#10;    }&#10;&#10;    public List&lt;Tramo&gt; listarPorCamion(String patenteCamion) {&#10;        return repositorio.findByPatenteCamion(patenteCamion);&#10;    }&#10;&#10;    public List&lt;Tramo&gt; listarPorEstado(String estado) {&#10;        return repositorio.findByEstado(estado);&#10;    }&#10;&#10;    public Tramo guardar(Tramo nuevoTramo) {&#10;        return repositorio.save(nuevoTramo);&#10;    }&#10;&#10;    public Tramo actualizar(Long id, Tramo datosActualizados) {&#10;        return repositorio.findById(id)&#10;                .map(tramo -&gt; {&#10;                    tramo.setIdRuta(datosActualizados.getIdRuta());&#10;                    tramo.setPatenteCamion(datosActualizados.getPatenteCamion());&#10;                    tramo.setOrigenDescripcion(datosActualizados.getOrigenDescripcion());&#10;                    tramo.setDestinoDescripcion(datosActualizados.getDestinoDescripcion());&#10;                    tramo.setDistanciaKm(datosActualizados.getDistanciaKm());&#10;                    tramo.setEstado(datosActualizados.getEstado());&#10;                    tramo.setFechaInicioEstimada(datosActualizados.getFechaInicioEstimada());&#10;                    tramo.setFechaFinEstimada(datosActualizados.getFechaFinEstimada());&#10;                    tramo.setFechaInicioReal(datosActualizados.getFechaInicioReal());&#10;                    tramo.setFechaFinReal(datosActualizados.getFechaFinReal());&#10;                    return repositorio.save(tramo);&#10;                })&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Tramo no encontrado&quot;));&#10;    }&#10;&#10;    public void eliminar(Long id) {&#10;        repositorio.deleteById(id);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.tpi.logistica.servicio;&#13;&#10;&#13;&#10;import com.tpi.logistica.modelo.Tramo;&#13;&#10;import com.tpi.logistica.repositorio.TramoRepositorio;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Optional;&#13;&#10;&#13;&#10;/**&#13;&#10; * Servicio que contiene la lógica de negocio para gestionar tramos.&#13;&#10; */&#13;&#10;@Service&#13;&#10;public class TramoServicio {&#13;&#10;&#13;&#10;    private final TramoRepositorio repositorio;&#13;&#10;&#13;&#10;    public TramoServicio(TramoRepositorio repositorio) {&#13;&#10;        this.repositorio = repositorio;&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Tramo&gt; listar() {&#13;&#10;        return repositorio.findAll();&#13;&#10;    }&#13;&#10;&#13;&#10;    public Optional&lt;Tramo&gt; buscarPorId(Long id) {&#13;&#10;        return repositorio.findById(id);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Tramo&gt; listarPorRuta(Long idRuta) {&#13;&#10;        return repositorio.findByIdRuta(idRuta);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Tramo&gt; listarPorCamion(String patenteCamion) {&#13;&#10;        return repositorio.findByPatenteCamion(patenteCamion);&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Tramo&gt; listarPorEstado(String estado) {&#13;&#10;        return repositorio.findByEstado(estado);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Tramo guardar(Tramo nuevoTramo) {&#13;&#10;        return repositorio.save(nuevoTramo);&#13;&#10;    }&#13;&#10;&#13;&#10;    public Tramo actualizar(Long id, Tramo datosActualizados) {&#13;&#10;        return repositorio.findById(id)&#13;&#10;                .map(tramo -&gt; {&#13;&#10;                    tramo.setIdRuta(datosActualizados.getIdRuta());&#13;&#10;                    tramo.setPatenteCamion(datosActualizados.getPatenteCamion());&#13;&#10;                    tramo.setOrigenDescripcion(datosActualizados.getOrigenDescripcion());&#13;&#10;                    tramo.setDestinoDescripcion(datosActualizados.getDestinoDescripcion());&#13;&#10;                    tramo.setDistanciaKm(datosActualizados.getDistanciaKm());&#13;&#10;                    tramo.setEstado(datosActualizados.getEstado());&#13;&#10;                    tramo.setFechaInicioEstimada(datosActualizados.getFechaInicioEstimada());&#13;&#10;                    tramo.setFechaFinEstimada(datosActualizados.getFechaFinEstimada());&#13;&#10;                    tramo.setFechaInicioReal(datosActualizados.getFechaInicioReal());&#13;&#10;                    tramo.setFechaFinReal(datosActualizados.getFechaFinReal());&#13;&#10;                    return repositorio.save(tramo);&#13;&#10;                })&#13;&#10;                .orElseThrow(() -&gt; new RuntimeException(&quot;Tramo no encontrado&quot;));&#13;&#10;    }&#13;&#10;&#13;&#10;    public void eliminar(Long id) {&#13;&#10;        repositorio.deleteById(id);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>